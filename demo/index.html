<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
    />
    <meta name="author" content="vivaxy" />
    <title>JavaScript PNG Decoder</title>
  </head>
  <body>
    <input type="file" />
    <script src="../dist/index.js"></script>
    <script>
      const input = document.querySelector("input");
      input.addEventListener("input", async function(e) {
        const file = e.target.files[0];
        const arrayBuffer = await file.arrayBuffer();
        console.log(png.decode(arrayBuffer));
      });
      const arrayBuffer = [
        -119,
        80,
        78,
        71,
        13,
        10,
        26,
        10,
        0,
        0,
        0,
        13,
        73,
        72,
        68,
        82,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        2,
        2,
        3,
        0,
        0,
        0,
        15,
        -40,
        -27,
        -73,
        0,
        0,
        0,
        1,
        115,
        82,
        71,
        66,
        1,
        -39,
        -55,
        44,
        127,
        0,
        0,
        0,
        9,
        112,
        72,
        89,
        115,
        0,
        0,
        11,
        19,
        0,
        0,
        11,
        19,
        1,
        0,
        -102,
        -100,
        24,
        0,
        0,
        0,
        12,
        80,
        76,
        84,
        69,
        -1,
        0,
        0,
        0,
        -1,
        0,
        0,
        0,
        -1,
        -1,
        -1,
        -1,
        -5,
        0,
        96,
        -10,
        0,
        0,
        0,
        4,
        116,
        82,
        78,
        83,
        -1,
        -1,
        -1,
        127,
        -128,
        -112,
        -59,
        89,
        0,
        0,
        0,
        12,
        73,
        68,
        65,
        84,
        120,
        -100,
        99,
        16,
        96,
        -40,
        0,
        0,
        0,
        -28,
        0,
        -63,
        39,
        -88,
        -24,
        87,
        0,
        0,
        0,
        0,
        73,
        69,
        78,
        68,
        -82,
        66,
        96,
        -126,
      ];

      console.log(png.decode(new Int8Array(arrayBuffer).buffer));
    </script>
  </body>
</html>
